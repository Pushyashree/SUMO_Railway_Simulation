# ğŸš† SUMO Railway Simulation Workflow

This README provides a step-by-step workflow for setting up and running a **railway simulation** using **SUMO** (Simulation of Urban MObility). The scenario involves simulating trains running between **three main stations** and **intermediate stations**, with two different types of routes:  
- ğŸš‰ **Trains that stop at all stations**.  
- ğŸš„ **Trains that skip some stations**.  

The workflow involves creating and configuring several files, including `.net`, `.add`, `.trip`, `.rou`, and `.cfg` files.

---

## ğŸ—ï¸ 1. Creating the Network File (`.net.xml`)

### ğŸ¨ **Using NETEDIT to Create Nodes and Edges**  
The railway network can be created using **NETEDIT**, a graphical editor for SUMO networks. NETEDIT allows users to:  
- ğŸ”¹ Add **nodes** representing junctions or stations.  
- ğŸ”¹ Add **edges** representing railway tracks between the nodes.  

#### ğŸ“ **Steps to Create a Network in NETEDIT**  
1ï¸âƒ£ Open **NETEDIT**.  
2ï¸âƒ£ Add **nodes** at the desired locations for stations and junctions.  
3ï¸âƒ£ Connect nodes by adding **edges** to form railway tracks.  
4ï¸âƒ£ Save the network file as **`.net.xml`**.  

ğŸ“– **More details**: [SUMO NETEDIT Documentation](https://sumo.dlr.de/docs/NETEDIT.html).

### ğŸš¦ **Defining Rail Signals in NETEDIT**  
In a railway network, junctions can act as **block sections** controlled by rail signals.

#### ğŸ”§ **Procedure to Define Rail Signals**  
1ï¸âƒ£ Select a node in NETEDIT.  
2ï¸âƒ£ Set the node type to **rail signal**. This can also be done manually by editing the `.net.xml` file and adding the attribute `junction="rail_signal"` to the relevant node.  

ğŸ“– **More details**: [Defining Rail Signals](https://sumo.dlr.de/docs/NETEDIT.html#rail_signals).

---

## ğŸ 2. Creating the Additional File (`.add.xml`)

The `.add.xml` file contains **rail stops** defined as bus stops in SUMO. Rail stops are added to specify where trains will stop at stations.

### ğŸ› ï¸ **Steps to Define Rail Stops in NETEDIT**  
1ï¸âƒ£ Select the desired edge where the rail stop should be placed.  
2ï¸âƒ£ Add a **bus stop** by specifying its length and position on the edge.  
3ï¸âƒ£ Save the additional file as **`.add.xml`**.  

ğŸ“– **More details**: [Adding Rail Stops](https://sumo.dlr.de/docs/NETEDIT.html#bus_stops).

---

## ğŸš‰ 3. Creating the Trip File (`.trip.xml`)

The `.trip.xml` file defines the trips (**train journeys**) in the network. Each trip includes:  
- ğŸš„ **The route that the train follows**.  
- â³ **Departure times**.  
- ğŸ **Stopping times at each station**.  

### ğŸ“œ **Manual Creation of Trips**  
1ï¸âƒ£ Define **two different routes**:  
   - ğŸš‰ **Route 1**: Covers all stations.  
   - ğŸš„ **Route 2**: Skips some intermediate stations.  
2ï¸âƒ£ Create trips for each train with:  
   - **A 20-minute headway** between consecutive train departures.  
   - **A stopping time of 30 seconds** at each stop.  
   - **A total simulation duration of 8 hours**.  

ğŸ“– **More details**: [SUMO Trips Guide](https://sumo.dlr.de/docs/Simulation/Trips.html).

---

## ğŸ“ 4. Generating the Route File (`.rou.xml`)

The `.rou.xml` file specifies the **exact routes** taken by the trips. This file is generated by combining the `.net.xml` and `.trip.xml` files using **DUAROUTER**.

### âš™ï¸ **Using DUAROUTER**
DUAROUTER is a tool that converts trips into routes based on the network topology.

#### ğŸ–¥ï¸ **Command to Generate the Route File**
```bash
duarouter -n network.net.xml -t trips.trip.xml -o routes.rou.xml
```
-n: Specifies the input network file.
-t: Specifies the input trip file.
-o: Specifies the output route file.
ğŸ“– More details: ([DUAROUTER Guide](https://sumo.dlr.de/docs/duarouter.html))

## âš™ï¸ 5. Creating the Configuration File (.cfg)
The .cfg file specifies the overall configuration for running the simulation. It includes references to all the required input files and simulation parameters.

ğŸ“„ Basic Structure of the Configuration File
```sh
<configuration>
    <input>
        <net-file value="network.net.xml"/>
        <route-files value="routes.rou.xml"/>
        <additional-files value="stops.add.xml"/>
    </input>
    <time>
        <begin value="0"/>
        <end value="28800"/><!-- 8 hours = 28800 seconds -->
    </time>
    <output>
        <tripinfo-output value="tripinfo.xml"/>
    </output>
</configuration>
```
ğŸ“– **More details**: ([SUMO Configuration Guide](https://sumo.dlr.de/docs/sumo.html#configuration)).

## ğŸš€ 6. Running the Simulation
To run the simulation, use the following command:
```sh
sumo-gui -c simulation.cfg
```
## ğŸ“Š 7. Output Files
SUMO generates several output files based on the configuration. Common outputs include:

ğŸ“„ tripinfo.xml: Contains detailed information about each trip, including departure time, arrival time, and travel duration.
ğŸ“– More details: ([SUMO Output Files](https://sumo.dlr.de/docs/Simulation/Output/index.html))

## âœï¸ Author
ğŸ‘¤ Pushya Shree Konasale Jayaramu
ğŸ“§ pushyashree.kj.2000@gmail.com
ğŸ”— https://www.linkedin.com/in/pushya-shree-konasale-jayaramu-6a61881a8/
